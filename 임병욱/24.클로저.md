## ğŸ“™ ì •ë¦¬í•˜ê¸°

### ë ‰ì‹œì»¬ ìŠ¤ì½”í”„
1ï¸âƒ£ë²ˆ ì½”ë“œëŠ” innerFunction í•¨ìˆ˜ê°€ outerFunction í•¨ìˆ˜ ë‚´ì— ì •ì˜ëœ ë°˜ë©´, 2ï¸âƒ£ë²ˆ ì½”ë“œëŠ” innerFunction í•¨ìˆ˜ê°€ outerFunction í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ ì •ì˜ëœ ì°¨ì´ê°€ ìˆë‹¤. ìš°ë¦¬ëŠ” ì´ ì½”ë“œë¥¼ í†µí•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í•¨ìˆ˜ë¥¼ ì–´ë””ì„œ í˜¸ì¶œí–ˆëŠ”ì§€ê°€ ì•„ë‹Œ í•¨ìˆ˜ë¥¼ ì–´ë””ì— ì •ì˜í–ˆëŠ”ì§€ì— ë”°ë¼ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ê° ì½”ë“œì˜ console.logëŠ” ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ì¶œë ¥í•œë‹¤.

> ### ğŸ”¥ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ë€
ë ‰ì‹œì»¬ í™˜ê²½ì˜ "ì™¸ë¶€ ë ‰ì‹œì»¬ í™˜ê²½ì— ëŒ€í•œ ì°¸ì¡°"ì— ì €ì¥í•  ì°¸ì¡°ê°’, ì¦‰ ìƒìœ„ ìŠ¤ì½”í”„ì— ëŒ€í•œ ì°¸ì¡°ëŠ” í•¨ìˆ˜ ì •ì˜ê°€ í‰ê°€ë˜ëŠ” ì‹œì ì— í•¨ìˆ˜ê°€ **ì •ì˜ëœ í™˜ê²½(ìœ„ì¹˜)** ì— ì˜í•´ ê²°ì •ëœë‹¤. ì´ê²ƒì„ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ë¼ í•œë‹¤.

```javascript

1ï¸âƒ£
const x = 1;

function outerFunction() {
  const x = 10;
  
  function innerFunction() {
    console.log(x); 
  }
  
  innerFunction()
}

outerFunction() // 10


/*-----------------------------------------------------*/

2ï¸âƒ£
const x = 1;

function outerFunction() {
  const x = 10;
  
  innerFunction()
}

function innerFunction() {
  console.log(x); 
}

outerFunction() // 1
```

### í•¨ìˆ˜ ê°ì²´ì˜ ë‚´ë¶€ ìŠ¬ë¡¯ [[Environment]]
í•¨ìˆ˜ëŠ” ìì‹ ì˜ ë‚´ë¶€ ìŠ¬ë¡¯[[Environment]]ì— ìì‹ ì´ ì •ì˜ëœ í™˜ê²½, ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì°¸ì¡°ë¥¼ ì €ì¥í•œë‹¤.

foo í•¨ìˆ˜ì™€ bar í•¨ìˆ˜ëŠ” ì „ì—­ì—ì„œ í•¨ìˆ˜ê°€ ì„ ì–¸ë˜ì—ˆìœ¼ë¯€ë¡œ ì „ì—­ ì½”ë“œ í‰ê°€ ì‹œì ì— ì „ì—­ ê°ì²´ì˜ ë©”ì„œë“œê°€ ëœë‹¤. ì´ë•Œ ìƒì„±ëœ í•¨ìˆ˜ ê°ì²´ì˜ ë‚´ë¶€ ìŠ¬ë¡¯ [[Environment]]ì—ëŠ” í•¨ìˆ˜ ì •ì˜ê°€ í‰ê°€ëœ ì‹œì ì— ì‹¤í–‰ ì¤‘ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì˜ ì°¸ì¡°ê°€ ì €ì¥ëœë‹¤. ê·¸ë¦¬ê³  í•¨ìˆ˜ ì½”ë“œê°€ í‰ê°€ë˜ê¸° ì‹œì‘í•˜ë©´ í•¨ìˆ˜ ë ‰ì‹œì»¬ í™˜ê²½ì˜ ì™¸ë¶€ ë ‰ì‹œì»¬ í™˜ê²½ì— ëŒ€í•œ ì°¸ì¡°ëŠ” í•¨ìˆ˜ ê°ì²´ [[Environment]]ì˜ ê°’ì¸ ìƒìœ„ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê°€ë¦¬í‚¨ë‹¤.

```javascript
const x = 1;

function foo() {
  const x = 10;
  
  bar()
}

function bar() {
  console.log(x); 
}

foo() // 1
bar() // 1
```

![](https://velog.velcdn.com/images/bottlewook/post/9f876b28-0b4a-4d9c-98d6-443dd6f6ca45/image.png)

### í´ë¡œì €ì™€ ë ‰ì‹œì»¬ í™˜ê²½
outer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ outer í•¨ìˆ˜ëŠ” ì¤‘ì²© í•¨ìˆ˜ innerë¥¼ ë°˜í™˜í•˜ê³  ìƒëª… ì£¼ê¸°ë¥¼ ë§ˆê°í•œë‹¤. ê·¸ëŸ¬ë‚˜ ìœ„ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” outer í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ xì˜ ê°’ì¸ 10ì´ë‹¤. ì´ë¯¸ ìƒëª… ì£¼ê¸°ê°€ ì¢…ë£Œë˜ì–´ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ ì œê±°ëœ outer í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ xë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ê³  ìˆë‹¤.

> ### ğŸ”¥ í´ë¡œì €ë€
ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ì¤‘ì²© í•¨ìˆ˜ê°€ ë” ì˜¤ë˜ ìœ ì§€ë˜ëŠ” ê²½ìš° ì¤‘ì²© í•¨ìˆ˜ëŠ” ì´ë¯¸ ìƒëª… ì£¼ê¸°ê°€ ì¢…ë£Œí•œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆë‹¤. ì´ëŸ¬í•œ ì¤‘ì²© í•¨ìˆ˜ë¥¼ í´ë¡œì €ë¼ ë¶€ë¥¸ë‹¤.

```javascript
const x = 1;

function outer() {
  const x = 10;
  const inner = function () { console.log(x); };
  return inner
}

const innerFunc = outer();
innerFunc(); 
```


![](https://velog.velcdn.com/images/bottlewook/post/fafbbb59-07a1-4d27-a272-90fe9d28f976/image.png)


> ### ğŸï¸ ììœ ë³€ìˆ˜ë€
ë¸Œë¼ìš°ì €ëŠ” ìµœì í™”ë¥¼ í†µí•´ ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ì (x, y) ì¤‘ í´ë¡œì €ê°€ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì‹ë³„ìë§Œì„ ê¸°ì–µí•œë‹¤. ì•„ë˜ ì˜ˆì œì—ì„  í´ë¡œì €ì— ì˜í•´ ì°¸ì¡°ë˜ëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜ (X)ë¥¼ ììœ  ë³€ìˆ˜ë¼í•œë‹¤. 

```javascript
function foo() {
  const x = 1;
  const y = 2;
  
  function bar() {
    console.log(x); 
  }
  
  return bar;
}

const bar = foo();
bar() // 1
```

### í´ë¡œì €ì˜ í™œìš©
í´ë¡œì €ëŠ” **ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.** ìƒíƒœê°€ ì˜ë„ì¹˜ ì•Šê²Œ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

1ï¸âƒ£ë²ˆ ì½”ë“œëŠ” numì„ increase í•¨ìˆ˜ë¡œë§Œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë‹¤ë¥¸ í•¨ìˆ˜ë‚˜ ì°¸ì¡°ì— ì˜í•´ì„œ ê°’ì´ ë³€í•  ìˆ˜ ìˆëŠ” ë‹¨ì ì´ ìˆë‹¤.
```javascript
1ï¸âƒ£
let num = 0;

const increase = function () {
  return ++num; 
}

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```
2ï¸âƒ£ë²ˆ ì½”ë“œëŠ” ì˜ë„ì¹˜ ì•Šì€ ìƒíƒœ ë³€ê²½ì€ ë°©ì§€ í–ˆìœ¼ë‹ˆ numì´ í•¨ìˆ˜ í˜¸ì¶œë§ˆë‹¤ 0ìœ¼ë¡œ ì´ˆê¸°í™” ë˜ê¸° ë•Œë¬¸ì— ìƒíƒœê°€ ë³€ê²½ë˜ê¸° ì´ì „ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ì—†ë‹¤.

```javascript
2ï¸âƒ£
const increase = function () {
  let num = 0;
  
  return ++num; 
}

console.log(increase()); // 1
console.log(increase()); // 1
console.log(increase()); // 1
```

ìœ„ì˜ ë¬¸ì œì ë“¤ì„ í´ë¡œì €ë¥¼ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ì´ì²˜ëŸ¼ í´ë¡œì €ëŠ” ìƒíƒœê°€ ì˜ë„ì¹˜ ì•Šê²Œ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©í•˜ì—¬ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

```javascript
const increase = (function () {
  let num = 0;
  
  return function () {
    return ++num 
  }
})()

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

ë‹¤ë¥¸ ì˜ˆì‹œë¥¼ ë³´ì. ê°ì²´ ë¦¬í„°ëŸ´ì€ ìŠ¤ì½”í”„ë¥¼ ë§Œë“¤ì§€ ì•Šê¸° ë•Œë¬¸ì— ì•„ë˜ ë©”ì„œë“œë“¤ì˜ ìƒìœ„ ìŠ¤ì½”í”„ëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í•¨ìˆ˜ì´ë‹¤.

```javascript
const counter = (function () {
  let num = 0;
  
  return {
    increase() {
      return ++num; 
    }
    decrease() {
      return num > 0 ? --num : 0; 
    }
  }
}())

console.log(counter.increase()); // 1
console.log(counter.increase()); // 2

console.log(counter.decrease()); // 1
console.log(counter.decrease()); // 0
```

makeCounter í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ë•Œ ë°˜í™˜ëœ í•¨ìˆ˜ëŠ” ìì‹ ë§Œì˜ ë…ë¦½ëœ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê°–ìœ¼ë‹ˆ ì£¼ì˜í•˜ì.

```javascript
function makeCounter(aux) {
  let counter = 0;
  
  return function () {
    counter = aux(counter);
    return counter;
  }
}

function increase() {
  return ++n; 
}

function decrease() {
  return --n; 
}

const increaser = makeCounter(increase);
console.log(increaser()); // 1
console.log(increaser()); // 2


const decreaser = makeCounter(decrease);
console.log(decreaser()); // -1
console.log(decreaser()); // -2
```

ìœ„ ì½”ë“œëŠ” count ë³€ìˆ˜ë¥¼ ì—°ë™í•˜ì§€ ëª»í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ IIFEë¥¼ ì´ìš©í•´ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.
ìœ„ ì½”ë“œëŠ” increaser, decreaser ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê°ê°ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê°–ëŠ” ë°˜ë©´, ì•„ë˜ ì½”ë“œëŠ” ë™ì¼í•œ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê³µìœ í•˜ë¯€ë¡œ count ë³€ìˆ˜ë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤.

```javascript
const counter = (function () {
  let counter = 0;
  
  return function (aux) {
    counter = aux(counter)
    
    return counter
  }
}())

function increase() {
  return ++n; 
}

function decrease() {
  return --n; 
}

console.log(counter(increase)); // 1
console.log(counter(increase)); // 2

console.log(counter(decrease)); // 1
console.log(counter(decrease)); // 0
```

### ìº¡ìŠí™”ì™€ ì •ë³´ ì€ë‹‰
ìº¡ìŠí™”ëŠ” ê°ì²´ì˜ íŠ¹ì • í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ê°ì¶œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ë„ í•˜ëŠ”ë° ì´ë¥¼ ì •ë³´ ì€ë‹‰ì´ë¼ í•œë‹¤. í•˜ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” public, private, protected ê°™ì€ ì ‘ê·¼ ì œí•œìë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ê°ì²´ì˜ ëª¨ë“  í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ publicí•˜ë‹¤.

```javascript
const Person = (function () {
  let _age = 0;
  
  function Person(name, age) {
    this.name = name;
    _age = age;
  }
  
  Person.prototype.sayHi = function () {
    console.log(`Hi! My name is ${this.name}. I am ${_age}.`); 
  }
  
  return Person
}())

const me = new Person('Lee', 20);
console.log(me.sayHi()); // Hi! My name is Lee. I am 20

console.log(me.name); // Lee
console.log(me._age); // undefined
```

### ìì£¼ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜
ì•„ë˜ ì½”ë“œëŠ” var í‚¤ì›Œë“œê°€ í•¨ìˆ˜ ë ˆë²¨ ìŠ¤ì½”í”„ë¥¼ ê°–ê¸° ë•Œë¬¸ì— ì „ì—­ ê°ì²´ì— ë™ì¼í•œ í”„ë¡œí¼í‹°ë¥¼ ë°”ë¼ë³´ë¯€ë¡œ 3ì´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
```javascript
var funcs = [];

for (var i = 0; i < 3; i++) {
  funcs[i] = function () { return i; } // 1ï¸âƒ£
}

for (var j = 0; j < funcs.length; j++) {
  console.log(funcs[j]()); 2ï¸âƒ£ // 3
}
```

ì´ëŸ° ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ IIFEë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. IIFEë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ìˆ˜ idëŠ” ë…ë¦½ì ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°–ê²Œ ë˜ë¯€ë¡œ return idëŠ” 0, 1, 2ê°€ ì¶œë ¥ëœë‹¤.

```javascript
var funcs = [];

for (var i = 0; i < 3; i++) {
  funcs[i] = (function (id) {
    return function () {
      return id;
    };
  }(id)); 
}

for (var j = 0; j < funcs.length; j++) {
  console.log(funcs[j]()); // 0, 1, 2 
}
```